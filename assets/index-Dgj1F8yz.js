(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const f=document.getElementById("menuToggle"),a=document.getElementById("fullMenu"),m=document.getElementById("menuClose");function y(){a.classList.add("is-active"),a.setAttribute("aria-hidden","false"),f.setAttribute("aria-expanded","true")}function h(){a.classList.remove("is-active"),a.setAttribute("aria-hidden","true"),f.setAttribute("aria-expanded","false")}f.addEventListener("click",()=>{a.classList.contains("is-active")?h():y()});m==null||m.addEventListener("click",h);document.addEventListener("keydown",c=>{c.key==="Escape"&&a.classList.contains("is-active")&&h()});document.querySelectorAll(".js-accordion").forEach(c=>{c.addEventListener("click",n=>{const s=n.target.closest(".accordion__head");if(!s)return;const e=s.closest(".accordion__item").querySelector(".accordion__wrap"),t=s.classList.contains("is-active");if(c.querySelectorAll(".accordion__head").forEach(r=>r.classList.remove("is-active")),c.querySelectorAll(".accordion__wrap").forEach(r=>r.style.height="0"),!t){s.classList.add("is-active");const i=e.querySelector(".accordion__content").getBoundingClientRect().height;e.style.height=i+"px"}})});(function(){var t,r;const n=document.querySelector(".js-slider");if(!n)return;const s=Array.from(n.children);let o=0;function e(i){s.forEach((u,d)=>{u.style.display=d===i?"block":"none"})}e(o),(t=document.querySelector(".slider-prev"))==null||t.addEventListener("click",()=>{o=(o-1+s.length)%s.length,e(o)}),(r=document.querySelector(".slider-next"))==null||r.addEventListener("click",()=>{o=(o+1)%s.length,e(o)})})();(function(){const n=document.querySelectorAll(".js-slideshow-avatars .avatar"),s=document.querySelectorAll(".js-slideshow-content .content-item");if(!n.length||!s.length)return;function o(e){n.forEach(t=>t.classList.toggle("active",Number(t.dataset.index)===e)),s.forEach((t,r)=>t.classList.toggle("active",r===e))}n.forEach(e=>{e.addEventListener("click",()=>{const t=Number(e.dataset.index);o(t)})}),o(0)})();(function(){const n=document.getElementById("orderForm"),s=document.getElementById("orderResult");n&&n.addEventListener("submit",async o=>{o.preventDefault(),s.textContent="";const e=n.name.value.trim(),t=n.phone.value.trim(),r=n.comment.value.trim(),i=n.to.value.trim();if(!e||!t||!i){s.textContent="Пожалуйста, заполните обязательные поля: имя, телефон и email.";return}const u={name:e,phone:t,comment:r,to:i};try{const l=await(await fetch("https://webdev-api.loftschool.com/sendmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json();l.status==="ok"||l.status==="success"?(s.textContent=l.message||"Заявка успешно отправлена (сервер в режиме эмуляции).",n.reset()):s.textContent=l.message||JSON.stringify(l)}catch(d){s.textContent="Ошибка отправки: "+d.message}})})();
